<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Technical Deep Dive — ContainifyCI</title>
    <meta name="description"
        content="Deep dive into ContainifyCI's architecture, build pipeline, container management, and security features.">

    <!-- Open Graph -->
    <meta property="og:title" content="Technical Deep Dive — ContainifyCI">
    <meta property="og:description"
        content="Explore the technical architecture and implementation details of ContainifyCI.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://www.containifyci.io/technical.html">

    <!-- Favicon -->
    <link rel="icon" href="images/favicon.svg" type="image/svg+xml">

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=JetBrains+Mono:wght@400;500;700&display=swap"
        rel="stylesheet">

    <!-- Prism.js (Go + YAML + Bash) -->
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/prism.min.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-go.min.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-yaml.min.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-bash.min.js" defer></script>

    <!-- Styles -->
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/prism-custom.css">
</head>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=AW-17943304449"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    gtag('config', 'AW-17943304449');
</script>

<body>

    <!-- ========== Fixed Nav ========== -->
    <nav class="nav">
        <div class="container">
            <a href="index.html" class="nav-logo">
                <svg viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg" width="28" height="28">
                    <rect x="8" y="20" width="48" height="32" rx="4" fill="#06b6d4" />
                    <rect x="14" y="26" width="10" height="8" rx="1.5" fill="#0a0e17" />
                    <rect x="27" y="26" width="10" height="8" rx="1.5" fill="#0a0e17" />
                    <rect x="40" y="26" width="10" height="8" rx="1.5" fill="#0a0e17" />
                    <rect x="14" y="38" width="10" height="8" rx="1.5" fill="#0a0e17" />
                    <rect x="27" y="38" width="10" height="8" rx="1.5" fill="#0a0e17" />
                    <rect x="40" y="38" width="10" height="8" rx="1.5" fill="#0a0e17" />
                    <path d="M28 12 L32 8 L36 12" stroke="#06b6d4" stroke-width="2.5" stroke-linecap="round"
                        stroke-linejoin="round" fill="none" />
                    <line x1="32" y1="8" x2="32" y2="20" stroke="#06b6d4" stroke-width="2.5" stroke-linecap="round" />
                </svg>
                ContainifyCI
            </a>

            <div class="nav-links">
                <a href="index.html#problem">Problem</a>
                <a href="index.html#how-it-works">How It Works</a>
                <a href="index.html##benefits">Benefits</a>
                <a href="index.html#languages">Languages</a>
                <a href="index.html#get-started">Get Started</a>
                <a href="index.html#ecosystem">Ecosystem</a>
                <a href="technical.html">Deep Dive</a>
            </div>

            <a href="https://github.com/containifyci/engine-ci" class="btn btn-primary nav-cta" target="_blank"
                rel="noopener">
                GitHub
            </a>

            <button class="hamburger" aria-label="Toggle menu">
                <span></span>
                <span></span>
                <span></span>
            </button>
        </div>
    </nav>

    <!-- Mobile Menu -->
    <div class="mobile-menu">
        <a href="index.html">Home</a>
        <a href="index.html#problem">Problem</a>
        <a href="index.html#how-it-works">How It Works</a>
        <a href="index.html#get-started">Get Started</a>
        <a href="technical.html">Technical Deep Dive</a>
        <a href="https://github.com/containifyci/engine-ci" class="btn btn-primary" target="_blank"
            rel="noopener">GitHub Repo</a>
    </div>

    <!-- ========== Dev Banner ========== -->
    <div class="dev-banner">
        <div class="container">
            Under active development <a href="https://github.com/containifyci/engine-ci" target="_blank"
                rel="noopener">contributions welcome!</a>
        </div>
    </div>

    <!-- ========== Header ========== -->
    <section class="hero" style="padding-top: 8rem; padding-bottom: 4rem;">
        <div class="hero-glow"></div>
        <div class="container">
            <h1 style="font-size: 3rem;">
                <span class="gradient-text">Technical Deep Dive</span>
            </h1>
            <p class="hero-subtitle">
                Explore the architecture, build pipeline, and technical details that make ContainifyCI work.
            </p>
        </div>
    </section>

    <!-- ========== Real-World Example ========== -->
    <section class="section example" id="real-world">
        <div class="container">
            <div class="fade-in">
                <span class="section-label">Real-World Example</span>
                <h2 class="section-title">See it in action</h2>
                <p class="section-subtitle">Here's how <a href="https://github.com/containifyci/dunebot" target="_blank"
                        rel="noopener">dunebot</a> a real ContainifyCI project defines its entire build and CI pipeline.
                </p>

                <div class="demo-gif glass" style="margin-bottom: 3rem;">
                    <div class="demo-gif-header">
                        <span class="demo-gif-label">engine-ci building itself</span>
                    </div>
                    <img src="images/local-build.gif"
                        alt="Animated demo showing engine-ci building the engine-ci project locally" loading="lazy"
                        style="width: 100%; border-radius: 0 0 0.75rem 0.75rem; display: block;">
                </div>

                <div class="example-blocks">
                    <!-- Go build definition -->
                    <div class="example-block glass">
                        <div class="example-block-header">
                            <span class="example-block-label">1. Define your build</span>
                            <span class="example-block-file">.containifyci/containifyci.go</span>
                        </div>
                        <pre><code class="language-go">package main

import (
    "os"

    "github.com/containifyci/engine-ci/client/pkg/build"
    "github.com/containifyci/engine-ci/protos2"
)

func main() {
    os.Chdir("../")
    opts := build.NewGoServiceBuild("dunebot")
    opts.Application = "dunebot"
    opts.File = "main.go"
    opts.Properties = map[string]*build.ListValue{
        "goreleaser": build.NewList("true"),
    }
    build.Serve(opts)
}</code></pre>
                    </div>

                    <!-- PR workflow -->
                    <div class="example-block glass">
                        <div class="example-block-header">
                            <span class="example-block-label">2. Wire it into GitHub Actions</span>
                            <span class="example-block-file">.github/workflows/pull-request.yaml</span>
                        </div>
                        <pre><code class="language-yaml">name: Pull Request
on:
  pull_request:
    branches: [main]

jobs:
  build:
    name: Build
    uses: containifyci/.github/.github/workflows/pull-request.yml@v1
    secrets: inherit</code></pre>
                    </div>

                    <!-- Release workflow -->
                    <div class="example-block glass">
                        <div class="example-block-header">
                            <span class="example-block-label">3. Add a release workflow</span>
                            <span class="example-block-file">.github/workflows/release.yaml</span>
                        </div>
                        <pre><code class="language-yaml">name: Release
on:
  push:
    branches: [main]
    paths-ignore: ['.github/**']

jobs:
  build-and-release:
    uses: containifyci/.github/.github/workflows/release.yml@v1
    secrets: inherit</code></pre>
                    </div>
                </div>

                <div class="example-callout glass">
                    <p><strong>One Go file</strong> for your build logic. <strong>Two tiny YAML files</strong> to
                        connect it to GitHub Actions. The same <code>engine-ci run</code> command works locally and in
                        CI. There are no divergence and no surprises.</p>
                    <p style="margin-top: 0.75rem;">See the full working example at <a
                            href="https://github.com/containifyci/dunebot/tree/main/.github/workflows" target="_blank"
                            rel="noopener">containifyci/dunebot</a>.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- ========== Under the Hood ========== -->
    <section class="section hood">
        <div class="container">
            <div class="fade-in">
                <h3 style="font-size:1.25rem; margin-top:2rem; margin-bottom:1rem;">Why Go instead of YAML?</h3>

                <div class="hood-comparison">
                    <table class="hood-table">
                        <thead>
                            <tr>
                                <th></th>
                                <th>YAML Pipelines</th>
                                <th>Go Pipelines (ContainifyCI)</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Error detection</td>
                                <td class="yaml-col">Runtime fails mid-build</td>
                                <td class="go-col">Compile time fails before build starts</td>
                            </tr>
                            <tr>
                                <td>Testing</td>
                                <td class="yaml-col">Manual / none</td>
                                <td class="go-col">Unit tests with <code>go test</code></td>
                            </tr>
                            <tr>
                                <td>IDE support</td>
                                <td class="yaml-col">Syntax highlighting only</td>
                                <td class="go-col">Full autocomplete, refactoring, go-to-definition</td>
                            </tr>
                            <tr>
                                <td>Reuse</td>
                                <td class="yaml-col">Copy-paste snippets</td>
                                <td class="go-col">Import packages, call functions</td>
                            </tr>
                            <tr>
                                <td>Debugging</td>
                                <td class="yaml-col">Push and pray</td>
                                <td class="go-col">Run locally, set breakpoints</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <!-- Architecture -->
                <div class="hood-arch">
                    <h3>Architecture</h3>
                    <div class="arch-flow">
                        <div class="arch-step glass">Your code <code>(.containifyci/containifyci.go)</code></div>
                        <div class="arch-arrow">&#x2193;</div>
                        <div class="arch-step glass">engine-ci CLI &#x2192; Compiles to single binary</div>
                        <div class="arch-arrow">&#x2193;</div>
                        <div class="arch-step glass">Container runtime (Docker / Podman)</div>
                        <div class="arch-arrow">&#x2193;</div>
                        <div class="arch-step glass">Isolated build steps with pinned tool versions</div>
                    </div>

                    <p class="hood-arch-desc">
                        <strong>engine-ci</strong> reads your build definition from
                        <code>.containifyci/containifyci.go</code>, compiles it into a self-contained binary, and
                        orchestrates containers to execute each build step in isolation. Tool versions are pinned inside
                        the containersa and not on the host machine.
                    </p>
                    <p class="hood-arch-desc" style="margin-top:0.75rem;">
                        Language support is modular. <a href="https://github.com/containifyci/engine-java"
                            target="_blank" rel="noopener">engine-java</a> and <a
                            href="https://github.com/containifyci/engine-python" target="_blank"
                            rel="noopener">engine-python</a> are extensions that plug into the core. Adding support for
                        a new language means writing a Go package that implements the build interface.
                    </p>
                </div>

                <!-- Build Pipeline Phases -->
                <div class="hood-arch" style="margin-top:3rem;">
                    <h3>Build Pipeline</h3>
                    <p class="hood-arch-desc" style="margin-top:0; margin-bottom:1.5rem;">Every build runs through 7
                        orchestrated phases. Quality and Publish run concurrently for faster feedback.</p>
                    <div class="pipeline-flow">
                        <div class="pipeline-phase glass">
                            <span class="pipeline-label">Auth</span>
                        </div>
                        <div class="pipeline-arrow">&#x2192;</div>
                        <div class="pipeline-phase glass">
                            <span class="pipeline-label">PreBuild</span>
                        </div>
                        <div class="pipeline-arrow">&#x2192;</div>
                        <div class="pipeline-phase glass">
                            <span class="pipeline-label">Build</span>
                        </div>
                        <div class="pipeline-arrow">&#x2192;</div>
                        <div class="pipeline-phase glass">
                            <span class="pipeline-label">PostBuild</span>
                        </div>
                        <div class="pipeline-arrow">&#x2192;</div>
                        <div class="pipeline-phase glass pipeline-async">
                            <span class="pipeline-label">Quality</span>
                            <span class="pipeline-badge">async</span>
                        </div>
                        <div class="pipeline-arrow">&#x2192;</div>
                        <div class="pipeline-phase glass">
                            <span class="pipeline-label">Apply</span>
                        </div>
                        <div class="pipeline-arrow">&#x2192;</div>
                        <div class="pipeline-phase glass pipeline-async">
                            <span class="pipeline-label">Publish</span>
                            <span class="pipeline-badge">async</span>
                        </div>
                    </div>
                </div>

                <!-- Container Runtimes -->
                <div class="hood-arch" style="margin-top:3rem;">
                    <h3>Container Runtimes</h3>
                    <div class="runtime-grid">
                        <div class="lang-card glass">
                            <div class="lang-icon">&#x1F433;</div>
                            <h3>Docker</h3>
                            <ul>
                                <li>Multi-arch builds via buildx</li>
                                <li>Platform-specific image pulling</li>
                                <li>Registry authentication</li>
                            </ul>
                        </div>
                        <div class="lang-card glass">
                            <div class="lang-icon">&#x1F9AD;</div>
                            <h3>Podman</h3>
                            <ul>
                                <li>Rootless containers</li>
                                <li>Native secrets support</li>
                                <li>Buildah integration</li>
                                <li>Manifest-based multi-arch</li>
                            </ul>
                        </div>
                    </div>
                    <p class="hood-arch-desc" style="margin-top:1rem;">Auto-detection picks the available runtime, or
                        override with the <code>CONTAINER_RUNTIME</code> env var.</p>
                </div>

                <!-- Container Images -->
                <div class="hood-arch" style="margin-top:3rem;">
                    <h3>Container Images</h3>
                    <p class="hood-arch-desc" style="margin-top:0; margin-bottom:1.5rem;">
                        engine-ci builds and publishes its own container images to <a
                            href="https://hub.docker.com/u/containifyci" target="_blank" rel="noopener">Docker Hub</a>.
                        Each build step runs inside a purpose-built image with pinned tool versions. The images
                        themselves are built by engine-ci.
                    </p>

                    <div class="image-mgmt-grid">
                        <div class="secret-card glass">
                            <h4>&#x1F4E6; Checksum-Based Tags</h4>
                            <p>Each Dockerfile is hashed at compile time. The SHA256 checksum becomes the image tag, so
                                a rebuilt image is only pushed when the Dockerfile actually changes.</p>
                        </div>
                        <div class="secret-card glass">
                            <h4>&#x2699;&#xFE0F; Compile-Time Metadata</h4>
                            <p>Go's <code>go:generate</code> extracts Dockerfile content, base image versions, and
                                checksums into generated Go code. There are no runtime parsing, errors caught before the
                                build starts.</p>
                        </div>
                        <div class="secret-card glass">
                            <h4>&#x1F3D7;&#xFE0F; Multi-Arch Builds</h4>
                            <p>All images are built for both <code>linux/amd64</code> and <code>linux/arm64</code>, so
                                the same pipeline works on Intel and Apple Silicon machines.</p>
                        </div>
                        <div class="secret-card glass">
                            <h4>&#x1F504; Layered Image Strategy</h4>
                            <p>Intermediate build images contain compilers and tooling. Production images are minimal
                                (Alpine-based). Only the compiled binary and a non-root user.</p>
                        </div>
                    </div>

                    <div class="hood-comparison" style="margin-top:2rem;">
                        <table class="hood-table">
                            <thead>
                                <tr>
                                    <th>Image</th>
                                    <th>Purpose</th>
                                    <th>Base</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><code>containifyci/golang-*</code></td>
                                    <td>Go build with linting (Alpine, Debian, CGO variants)</td>
                                    <td>golang:1.25-alpine / golang:1.25</td>
                                </tr>
                                <tr>
                                    <td><code>containifyci/maven-*</code></td>
                                    <td>Java &amp; Maven builds with TestContainers</td>
                                    <td>eclipse-temurin JDK</td>
                                </tr>
                                <tr>
                                    <td><code>containifyci/python-*</code></td>
                                    <td>Python build, lint, and packaging</td>
                                    <td>python:3.14-slim-bookworm</td>
                                </tr>
                                <tr>
                                    <td><code>containifyci/sonar</code></td>
                                    <td>SonarCloud scanner (multi-arch)</td>
                                    <td>alpine:3.20</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <p class="hood-arch-desc" style="margin-top:1rem;">
                        All images are hosted at <a href="https://hub.docker.com/u/containifyci" target="_blank"
                            rel="noopener">hub.docker.com/u/containifyci</a>. engine-ci pulls or builds them
                        automatically. There is no need for manual image management.
                    </p>
                </div>

                <!-- Secure Secrets -->
                <div class="hood-arch" style="margin-top:3rem;">
                    <h3>Secure Secrets</h3>
                    <p class="hood-arch-desc" style="margin-top:0; margin-bottom:1.5rem;">Secrets never touch disk. An
                        in-memory key-value store with a REST API keeps credentials safe throughout the build lifecycle.
                    </p>
                    <div class="secrets-features">
                        <div class="secret-card glass">
                            <h4>&#x1F5C4;&#xFE0F; In-Memory KV Store</h4>
                            <p>HTTP REST API: secrets live only in memory, never written to disk or in the container
                                metadata or logs</p>
                        </div>
                        <div class="secret-card glass">
                            <h4>&#x1F510; HMAC-SHA256 Auth</h4>
                            <p>Request signing with timestamps and nonces prevents replay attacks</p>
                        </div>
                        <div class="secret-card glass">
                            <h4>&#x1F517; Value Resolution</h4>
                            <p><code>mem:</code> KV store / <code>cmd:</code> shell command / <code>env:</code>
                                environment variable</p>
                        </div>
                        <div class="secret-card glass">
                            <h4>&#x23F1;&#xFE0F; Session Tokens</h4>
                            <p>Per-session tokens with 1-hour expiry and constant-time comparison</p>
                        </div>
                    </div>
                </div>

                <!-- SSH Agent Forwarding -->
                <div class="hood-arch" style="margin-top:3rem;">
                    <h3>SSH Agent Forwarding</h3>
                    <div class="example-callout glass">
                        <p>Unix socket bind mounts forward your host SSH agent into build containers. This enables
                            private repository access during builds. Platform-aware for both <strong>Linux</strong> and
                            <strong>macOS</strong>, and available across all build types.</p>
                    </div>
                </div>

                <!-- Integrations -->
                <div class="integration-pills">
                    <h3>Key Integrations</h3>
                    <div class="pills">
                        <span class="pill">&#x1F433; Docker</span>
                        <span class="pill">&#x1F9AD; Podman</span>
                        <span class="pill">&#x1F50D; Trivy</span>
                        <span class="pill">&#x1F4E6; GoReleaser</span>
                        <span class="pill">&#x1F511; Feller</span>
                        <span class="pill">&#x1F916; Dunebot</span>
                        <span class="pill">&#x2699;&#xFE0F; GitHub Actions</span>
                        <span class="pill">&#x1F98A; GitLab CI</span>
                        <span class="pill">&#x1F510; SSH Forwarding</span>
                        <span class="pill">&#x1F3D7;&#xFE0F; Multi-Arch Builds</span>
                        <span class="pill">&#x1F50E; SonarCloud</span>
                        <span class="pill">&#x1F4DC; Protobuf</span>
                        <span class="pill">&#x2601;&#xFE0F; Pulumi</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- ========== Footer ========== -->
    <footer class="footer">
        <div class="container">
            <div class="footer-grid">
                <div class="footer-col">
                    <h4>Build Engine</h4>
                    <ul>
                        <li><a href="https://github.com/containifyci/engine-ci" target="_blank"
                                rel="noopener">engine-ci</a></li>
                        <li><a href="https://github.com/containifyci/engine-java" target="_blank"
                                rel="noopener">engine-java</a></li>
                        <li><a href="https://github.com/containifyci/engine-python" target="_blank"
                                rel="noopener">engine-python</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h4>Automation</h4>
                    <ul>
                        <li><a href="https://github.com/containifyci/dunebot" target="_blank" rel="noopener">dunebot</a>
                        </li>
                        <li><a href="https://github.com/containifyci/feller" target="_blank" rel="noopener">feller</a>
                        </li>
                        <li><a href="https://github.com/containifyci/secret-operator" target="_blank"
                                rel="noopener">secret-operator</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h4>Resources</h4>
                    <ul>
                        <li><a href="https://github.com/containifyci" target="_blank" rel="noopener">GitHub
                                Organization</a></li>
                        <li><a href="https://github.com/containifyci/engine-ci/releases" target="_blank"
                                rel="noopener">Releases</a></li>
                        <li><a href="https://github.com/containifyci/engine-ci/blob/main/LICENSE" target="_blank"
                                rel="noopener">License (Apache 2.0)</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 ContainifyCI Contributors. Apache License 2.0.</p>
                <p>Built with &#x2764;&#xFE0F; for developers who ship.</p>
            </div>
        </div>
    </footer>

    <!-- Main JS -->
    <script src="js/main.js"></script>
</body>

</html>